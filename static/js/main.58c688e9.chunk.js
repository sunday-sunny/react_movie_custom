(this.webpackJsonpreact_movie_custom=this.webpackJsonpreact_movie_custom||[]).push([[0],{20:function(e,t,a){e.exports=a(46)},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),i=a.n(o),s=a(2),c=a.n(s),m=a(5),l=a(6),u=a(7),v=a(9),p=a(8),d=a(3),f=a.n(d),E=a(4),_=a.n(E);a(44);var h=function(e){var t=e.title,a=e.title_en,n=e.year,o=e.showTm,i=e.nations,s=e.genres,c=e.directors,m=e.poster;return r.a.createElement("div",{className:"movie"},r.a.createElement("img",{src:m,alt:t,title:t}),r.a.createElement("div",{class:"movie__data"},r.a.createElement("h3",{className:"movie__title"},t),r.a.createElement("span",{className:"movie__title_en"},a),r.a.createElement("hr",null),r.a.createElement("div",{className:"movie__year"},r.a.createElement("span",null,"\uac1c\ubd09\uc77c")," ",n),r.a.createElement("ul",{className:"movie__nation"},r.a.createElement("span",null,"\uc81c\uc791\uad6d\uac00"),i.map((function(e){return r.a.createElement("li",null,e.nationNm)}))),r.a.createElement("div",{className:"movie__time"},r.a.createElement("span",null,"\ub7ec\ub2dd\ud0c0\uc784 "),o,"\ubd84"),r.a.createElement("div",{className:"movie__director"},r.a.createElement("span",null,"\uac10\ub3c5")," ",c.map((function(e){return e.peopleNm}))),r.a.createElement("hr",null),r.a.createElement("ul",{className:"movie__genre"},r.a.createElement("span",null,"\uc7a5\ub974"),s.map((function(e){return r.a.createElement("li",null,e.genreNm)})))))},g=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).KOFIC={API_URL:" http://www.kobis.or.kr/kobisopenapi/webservice/rest/movie/searchMovieInfo.json",KEY:"c74d1e3ccf220bb37d0dea10acafcfa5"},e.TMDB={API_URL:"https://api.themoviedb.org/3/search/movie",KEY:"6c409635f74a4bd9994b16639685e73d"},e.state={isLoading:!0,movie:[],poster:"https://image.tmdb.org/t/p/w500"},e.getMoviesDetail=Object(m.a)(c.a.mark((function t(){var a,n,r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get(e.KOFIC.API_URL,{params:{key:e.KOFIC.KEY,movieCd:e.props.movieCd}});case 2:return a=t.sent,n=a.data.movieInfoResult.movieInfo,t.next=6,f.a.get(e.TMDB.API_URL,{params:{api_key:e.TMDB.KEY,language:"kr-KR",query:n.movieNm,year:_()(n.openDt).format("YYYY")}});case 6:r=t.sent,o=r.data.results,e.setState({isLoading:!1,movie:n,poster:o.length?"".concat(e.state.poster).concat(o[0].poster_path):"http://via.placeholder.com/185x278/000000?text=Not found Poster"});case 9:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getMoviesDetail()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.movie,n=e.poster;return t?null:r.a.createElement("div",{className:"movies"},r.a.createElement(h,{key:a.movieCd,title:a.movieNm,title_en:a.movieNmEn,year:_()(a.openDt).format("YYYY-MM-DD"),showTm:a.showTm,nations:a.nations,genres:a.genres,directors:a.directors,poster:n}))}}]),a}(r.a.Component),b=(a(45),function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).KOFIC={API_URL:"http://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json",KEY:"c74d1e3ccf220bb37d0dea10acafcfa5"},e.state={isLoading:!0,movies:[]},e.getMovies=Object(m.a)(c.a.mark((function t(){var a,n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=_()().subtract(1,"d").format("YYYYMMDD"),t.next=3,f.a.get(e.KOFIC.API_URL,{params:{key:e.KOFIC.KEY,targetDt:a,multiMovieYn:"N"}});case 3:n=t.sent,r=n.data.boxOfficeResult.dailyBoxOfficeList,e.setState({movies:r,isLoading:!1});case 6:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.movies;return r.a.createElement("div",{className:"container"},t?r.a.createElement("div",{className:"container__loader"},r.a.createElement("span",{className:"loader_text"},"isLoading...")):r.a.createElement("div",{className:"container__movies"},a.map((function(e){return r.a.createElement(g,{key:e.movieCd,movieCd:e.movieCd})}))))}}]),a}(r.a.Component));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.58c688e9.chunk.js.map